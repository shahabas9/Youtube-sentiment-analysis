schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 30270d3cc434cc456223071d5759219b
      size: 3338
    params:
      params.yaml:
        data_ingestion.test_size: 0.2
    outs:
    - path: data/raw
      hash: md5
      md5: b855e2bab4e21078d44844fee5be9da3.dir
      size: 6882906
      nfiles: 2
  data_preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: 295b88d81555e67a857db0337244e118
      size: 1341252
    - path: data/raw/train.csv
      hash: md5
      md5: 70faef66e6135c49f7f02db4a55e9fdd
      size: 5541654
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: 86f55a9060017c774792a3d446a09d61
      size: 3330
    outs:
    - path: data/preprocessed
      hash: md5
      md5: eb37d4476708154f4b721a7209214911.dir
      size: 5098055
      nfiles: 2
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/preprocessed/train.csv
      hash: md5
      md5: 86284f4698366b0f2ee05c211c0e9453
      size: 4104889
    - path: src/model/model_building.py
      hash: md5
      md5: 23da4a70ed9443a0e9cd8270a9594c20
      size: 4740
    params:
      params.yaml:
        model_building.learning_rate: 0.09
        model_building.max_depth: 20
        model_building.max_feature: 1000
        model_building.n_estimator: 367
        model_building.ngram_range:
        - 1
        - 3
    outs:
    - path: ligtgbm_model.pkl
      hash: md5
      md5: 57111d26e2dfd58391c3aa432848cda6
      size: 3886714
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 87a7f14789355ea1a9684011d3c810a5
      size: 36871
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: data/preprocessed/test.csv
      hash: md5
      md5: 5b260b8114240fb9c541c0d07b150b14
      size: 993166
    - path: data/preprocessed/train.csv
      hash: md5
      md5: 86284f4698366b0f2ee05c211c0e9453
      size: 4104889
    - path: ligtgbm_model.pkl
      hash: md5
      md5: 57111d26e2dfd58391c3aa432848cda6
      size: 3886714
    - path: src/model/model_evaluation.py
      hash: md5
      md5: dbb1593bb96c55fe45d7c57228f2687e
      size: 5940
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 87a7f14789355ea1a9684011d3c810a5
      size: 36871
    outs:
    - path: experiment_info.json
      hash: md5
      md5: 7d0bdd8d502718fc0962add29381b4ce
      size: 88
  model_registration:
    cmd: python src/model/model_registry.py
    deps:
    - path: experiment_info.json
      hash: md5
      md5: 7d0bdd8d502718fc0962add29381b4ce
      size: 88
    - path: src/model/model_registry.py
      hash: md5
      md5: 1b0d24bec75b7a9766813541dfd26b66
      size: 1887
